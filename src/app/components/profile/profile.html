<div class="search-box-settings">
    <a href="/">
        <img src="/logo.png" alt="project logo" class="logo-settings" />
    </a>

    <div class="form-box">
        <input #searchInput type="text" class="form-style" placeholder="üîç Buscar desenvolvedores..." />
        <button class="button-style" (click)="submit(searchInput.value)">Buscar</button>
    </div>
</div>

<section class="section-settings">
    <div *ngIf="loadingUser">
        <p>Carregando perfil...</p>
    </div>

    <div class="profile-div" *ngIf="!loadingUser && hasUserData; else semPerfil">
        <div class="profile-box">
            <img [src]="userData?.avatar_url || '/default-avatar.png'" class="profile-picture" />
            <div class="profile-box-data">
                <h1>{{ userData?.name || 'Sem informa√ß√£o' }}</h1>
                <p class="username">@{{ userData?.login || 'Sem informa√ß√£o' }}</p>
            </div>
        </div>
        <p class="bio"><i>{{ userData?.bio || 'Sem informa√ß√£o' }}</i></p>

        <div class="profile-column-box">
            <div class="profile-data">
                <div class="profile-data-line">
                    <img src="/followers.png" alt="followers icon" class="icon-settings" />
                    <p>{{ userData?.followers ?? 'Sem informa√ß√£o' }} seguidores</p>
                </div>
                <div class="profile-data-line">
                    <img src="/following.png" alt="following icon" class="icon-settings" />
                    <p>{{ userData?.following ?? 'Sem informa√ß√£o' }} seguindo</p>
                </div>
            </div>

            <div class="profile-links">
                <div class="profile-link-line">
                    <img src="/building.png" alt="building icon" class="icon-settings" />
                    <p>{{ userData?.company || 'Sem informa√ß√£o' }}</p>
                </div>
                <div class="profile-link-line">
                    <img src="/location.png" alt="location icon" class="icon-settings" />
                    <p>{{ userData?.location || 'Sem informa√ß√£o' }}</p>
                </div>
                <div class="profile-link-line">
                    <img src="/email.png" alt="email icon" class="icon-settings" />
                    <p>{{ userData?.email || 'Sem informa√ß√£o' }}</p>
                </div>
                <div class="profile-link-line">
                    <img src="/website.png" alt="website icon" class="icon-settings" />
                    <p>
                        <ng-container *ngIf="userData?.blog; else noBlog">
                            <a [href]="userData?.blog" target="_blank" class="url-profile">
                                {{ userData?.blog }}
                            </a>
                        </ng-container>
                        <ng-template #noBlog>Sem informa√ß√£o</ng-template>
                    </p>
                </div>
            </div>
        </div>
    </div>

    <ng-template #semPerfil>
        <p>Perfil n√£o encontrado.</p>
    </ng-template>

    <div *ngIf="loadingRepos">
        <p>Carregando reposit√≥rios...</p>
    </div>

    <div class="repo-div" *ngIf="!loadingRepos && (repoData?.length ?? 0) > 0; else semRepos">
        <div *ngFor="let repo of repoData" class="repo-card">
            <a [href]="repo?.html_url || '#'" target="_blank">
                <h2>{{ repo?.name || 'Sem informa√ß√£o' }}</h2>
                <p>{{ repo?.description || 'Sem descri√ß√£o' }}</p>
                <p>‚≠ê {{ repo?.stargazers_count ?? 0 }}</p>
                <p>
                    Atualizado em:
                    {{ repo?.updated_at ? (repo?.updated_at | date:'dd/MM/yyyy HH:mm') : 'Sem informa√ß√£o' }}
                </p>
            </a>
        </div>
    </div>

    <ng-template #semRepos>
        <p>N√£o h√° reposit√≥rios para exibir.</p>
    </ng-template>
</section>